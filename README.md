
# Слежение за системой инфраструктурой
## Задача
В конце рабочего дня серверы, стенды и другие машины могут оказаться недоступны.Для корректной работы вышеупомянутых машин необходимо разработать утилиту, которая будет напоминать сотрудникам (в определенный момент врмени) освобождать ресурсы машин. Разработку будем вести на яп golang. 

___
### Работа с тг ботом
Работа приложения построена следующим образом: в телеграм бот @InfrastructureTrackingServiceBot (https://t.me/InfrastructureTrackingServiceBot) загружается файл в формате json, в котором перечисляются задачи и параметры(пример файла: conf.json).В любой момент времени пользователь может осуществить проверку (выполнение задач) с помощью 2 кнопок в боте: http_rec и tcp_connect.Результаты проверок будут выведены в бота, а также добавлены в массив всех результатов. Ознакомится с этим массивом можно с помощью кнопки all_checks.
___
### Будильник
В заданный момент времени функция Run(запущена как горутина) сама выведет напоминание о том, что необходимо проверить задачи.
___
### Функции проверки
#### http_prov
Посылает запрос на сервер , дожидается ответа.Возварщает значение true, если функция хэндлер смогла обрабоать запрос и вернуть необходимый StatusCode.Иначе, значание false.
#### tcp_prov
Возварщает значение true, если смог обнаружить работающий сервер на заданном порте и хосте. Иначе, значание false 
___
### Считывание с файла
 Данные в файле хранятся в JSON, считываются в мапу, ключи которой id задач, значения - другие мапы , ключи которой параметры задачи, значения - значения параметров.Результаты проверок хранятся в слайсе структур.
 ___
 ### Доп
 Тестировал работу на локальных серверах, файлы также прилагаются в репозиторий.
 Необходимо в будущем добавить rest сервер, который будет проверять работу исходной утилиты.
 Также, пытался улчушить код,но желаемого результата рефакторинга не достиг, т.к. код замусорился привязкой к задаче каждого типа. Для оптимизации необходимо вынести функцию проверки на более верхний уровень.